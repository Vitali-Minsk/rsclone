{"version":3,"sources":["webpack:///./controller.js","webpack:///./enemy.js","webpack:///./index.js","webpack:///./particle.js","webpack:///./player.js","webpack:///./projectile.js","webpack:///./assets/dima-head-left.png","webpack:///./assets/dima-head.png","webpack:///./styles/style.scss?0aa2","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/global","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/publicPath","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"names":["Controller","canvas","document","querySelector","ctx","getContext","width","window","innerWidth","height","innerHeight","scoreEl","startGameBtn","modal","modalScore","x","y","player","Player","projectiles","enemies","particles","score","animationId","img","Image","src","imgDimaHeadRight","angle","drawImage","save","translate","Math","abs","PI","imgDimaHeadLeft","rotate","restore","innerHTML","setInterval","radius","random","color","atan2","velocity","cos","sin","push","Enemy","requestAnimationFrame","animate","fillStyle","fillRect","headRotate","forEach","particle","index","alpha","splice","update","projectile","enemy","dist","hypot","cancelAnimationFrame","classList","remove","projectileIndex","dist1","i","Particle","gsap","addEventListener","event","clientY","clientX","Projectile","init","add","beginPath","arc","fill","draw","controller","startBtnEventListener","spawnEnemies","windowEventListen","friction","globalAlpha"],"mappings":"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;;;;;WCArG;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,kC;;;;;WCfA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,oBAAoB;WAC1B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;WACA;WACA,eAAe,4BAA4B;WAC3C;WACA;WACA,gBAAgB,2BAA2B;WAC3C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,kDAAkD;WAClD;WACA,E;;;;UCxFA;UACA","file":"main.js","sourcesContent":["import gsap from 'gsap';\nimport Player from './player';\nimport Projectile from './projectile';\nimport Particle from './particle';\nimport Enemy from './enemy';\nimport imgDimaHeadRight from './assets/dima-head.png';\nimport imgDimaHeadLeft from './assets/dima-head-left.png';\n\nexport default class Controller {\n  constructor() {\n    this.canvas = document.querySelector('canvas');\n    this.ctx = this.canvas.getContext('2d');\n    this.canvas.width = window.innerWidth;\n    this.canvas.height = window.innerHeight;\n    this.scoreEl = document.querySelector('#scoreEl');\n    this.startGameBtn = document.querySelector('.modal__button');\n    this.modal = document.querySelector('.modal');\n    this.modalScore = document.querySelector('.modal__score');\n    this.x = this.canvas.width / 2;\n    this.y = this.canvas.height / 2;\n    this.player = new Player(this.x, this.y, 10, 'white');\n    this.projectiles = [];\n    this.enemies = [];\n    this.particles = [];\n    this.score = 0;\n    this.animationId = null;\n    this.img = new Image(10);\n    this.img.src = imgDimaHeadRight;\n    this.img.width = 100;\n    this.angle = 0;\n    // this.isReversed = false;\n  }\n\n  drawHead() {\n    // this.img.onload = () => {\n    this.ctx.drawImage(this.img, this.img.width / 2,\n      this.img.width / 2, this.img.width, this.img.width);\n    // };\n  }\n\n  headRotate() {\n    // const angleDeg = (angle * 180) / Math.PI;\n    // this.img.style.transform = `rotate(${angleDeg})`;\n    // console.log(angleDeg);\n    // this.drawHead();\n\n    // Сохраняем настройки канваса до всяких манипуляций с ним\n    this.ctx.save();\n\n    // console.log(this.angle);\n\n    this.ctx.translate(this.x, this.y);\n\n    if (Math.abs(this.angle) > Math.PI / 2) {\n      this.img.src = imgDimaHeadLeft;\n      // this.ctx.scale(1, -1);\n      // this.angle = -this.angle;\n      // console.log('left');\n    } else {\n      // console.log('right');\n      this.img.src = imgDimaHeadRight;\n    }\n\n    // Сдвигаем все адресованные пиксели на указанные значения\n    // this.ctx.translate(canvas.width/2,canvas.height/2);\n\n    // Поворачиваем на `degrees` наш градус\n    this.ctx.rotate(this.angle);\n\n    // Рисуем повернутую картинку\n    this.ctx.drawImage(this.img, 0 - this.img.width / 2,\n      0 - this.img.width / 2, this.img.width, this.img.width);\n\n    // Восстанавливаем настройки на момент когда делали `ctx.save`\n    // то бишь до `ctx.translate` и `ctx.rotate`. Рисунок при этом сохраняется.\n    this.ctx.restore();\n  }\n\n  init() {\n    this.player = new Player(this.x, this.y, 10, 'white');\n    this.projectiles = [];\n    this.enemies = [];\n    this.particles = [];\n    this.score = 0;\n    this.scoreEl.innerHTML = this.score;\n  }\n\n  spawnEnemies() {\n    setInterval(() => {\n      const radius = Math.random() * (30 - 4) + 4;\n\n      let x;\n      let y;\n\n      if (Math.random() < 0.5) {\n        x = Math.random() < 0.5 ? 0 - radius : this.canvas.width + radius;\n        y = Math.random() * this.canvas.height;\n      } else {\n        x = Math.random() * this.canvas.width;\n        y = Math.random() < 0.5 ? 0 - radius : this.canvas.height + radius;\n      }\n      const color = `hsl(${Math.random() * 360}, 50%, 50%)`;\n      const angle = Math.atan2(\n        this.canvas.height / 2 - y,\n        this.canvas.width / 2 - x,\n      );\n      const velocity = {\n        x: Math.cos(angle),\n        y: Math.sin(angle),\n      };\n      this.enemies.push(new Enemy(x, y, radius, color, velocity));\n\n      // console.log(this.enemies);\n    }, 1000);\n  }\n\n  animate() {\n    this.animationId = requestAnimationFrame(() => this.animate());\n    this.ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n    // this.player.draw();\n    this.headRotate();\n    this.particles.forEach((particle, index) => {\n      if (particle.alpha <= 0) {\n        this.particles.splice(index, 1);\n      } else {\n        particle.update();\n      }\n    });\n    this.projectiles.forEach((projectile, index) => {\n      projectile.update();\n\n      // remove from edges from screen\n      if (\n        projectile.x + projectile.radius < 0\n        || projectile.x - projectile.radius > this.canvas.width\n        || projectile.y + projectile.radius < 0\n        || projectile.y - projectile.radius > this.canvas.height\n      ) {\n        this.projectiles.splice(index, 1);\n      }\n    });\n\n    this.enemies.forEach((enemy, index) => {\n      enemy.update();\n\n      // end game\n      const dist = Math.hypot(this.player.x - enemy.x, this.player.y - enemy.y);\n      if (dist - enemy.radius - this.player.radius < 1) {\n        cancelAnimationFrame(this.animationId);\n        this.modal.classList.remove('modal_hidden');\n        this.modalScore.innerHTML = this.score;\n      }\n\n      // hit the enemy\n      this.projectiles.forEach((projectile, projectileIndex) => {\n        const dist1 = Math.hypot(projectile.x - enemy.x, projectile.y - enemy.y);\n\n        if (dist1 - enemy.radius - projectile.radius < 1) {\n          // increase score\n          this.score += 100;\n          this.scoreEl.innerHTML = this.score;\n          // create explosions\n          for (let i = 0; i < enemy.radius * 2; i += 1) {\n            this.particles.push(new Particle(\n              projectile.x,\n              projectile.y,\n              Math.random() * 2,\n              enemy.color,\n              {\n                x: (Math.random() - 0.5) * Math.random() * 8,\n                y: (Math.random() - 0.5) * Math.random() * 8,\n              },\n            ));\n          }\n\n          if (enemy.radius - 10 > 10) {\n            gsap.to(enemy, {\n              radius: enemy.radius - 10,\n            });\n            this.projectiles.splice(projectileIndex, 1);\n          } else {\n            this.enemies.splice(index, 1);\n            this.projectiles.splice(projectileIndex, 1);\n          }\n        }\n      });\n    });\n  }\n\n  windowEventListen() {\n    window.addEventListener('click', (event) => {\n      this.angle = Math.atan2(event.clientY - this.canvas.height / 2,\n        event.clientX - this.canvas.width / 2);\n      const velocity = {\n        x: Math.cos(this.angle) * 5,\n        y: Math.sin(this.angle) * 5,\n      };\n\n      // console.log(projectiles)\n\n      this.projectiles.push(\n        new Projectile(\n          this.canvas.width / 2,\n          this.canvas.height / 2,\n          5,\n          'white',\n          velocity,\n        ),\n      );\n    });\n\n    window.addEventListener('mousemove', (event) => {\n      this.angle = Math.atan2(event.clientY - this.canvas.height / 2,\n        event.clientX - this.canvas.width / 2);\n      this.headRotate(this.angle);\n    });\n  }\n\n  startBtnEventListener() {\n    this.startGameBtn.addEventListener('click', () => {\n      this.init();\n      this.animate();\n\n      this.modal.classList.add('modal_hidden');\n    });\n  }\n}\n","const canvas = document.querySelector('canvas');\nconst ctx = canvas.getContext('2d');\n\nexport default class Enemy {\n  constructor(x, y, radius, color, velocity) {\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    this.color = color;\n    this.velocity = velocity;\n  }\n\n  draw() {\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n  }\n\n  update() {\n    this.draw();\n    this.x += this.velocity.x;\n    this.y += this.velocity.y;\n  }\n}\n","import './styles/style.scss';\n// import gsap from 'gsap';\nimport Controller from './controller';\n\nconst controller = new Controller();\ncontroller.startBtnEventListener();\ncontroller.spawnEnemies();\ncontroller.windowEventListen();\n// controller.drawHead();\n","const canvas = document.querySelector('canvas');\nconst ctx = canvas.getContext('2d');\n\nexport default class Particle {\n  constructor(x, y, radius, color, velocity) {\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    this.color = color;\n    this.velocity = velocity;\n    this.alpha = 1;\n    this.friction = 0.99;\n  }\n\n  draw() {\n    ctx.save();\n    ctx.globalAlpha = this.alpha;\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n    ctx.restore();\n  }\n\n  update() {\n    this.draw();\n    this.velocity.x *= this.friction;\n    this.velocity.y *= this.friction;\n    this.x += this.velocity.x;\n    this.y += this.velocity.y;\n    this.alpha -= 0.01;\n    // console.log(this.alpha)\n  }\n}\n","const canvas = document.querySelector('canvas');\nconst ctx = canvas.getContext('2d');\n\nexport default class Player {\n  constructor(x, y, radius, color) {\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    this.color = color;\n  }\n\n  draw() {\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n  }\n}\n","const canvas = document.querySelector('canvas');\nconst ctx = canvas.getContext('2d');\n\nexport default class Projectile {\n  constructor(x, y, radius, color, velocity) {\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    this.color = color;\n    this.velocity = velocity;\n  }\n\n  draw() {\n    ctx.beginPath();\n    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\n    ctx.fillStyle = this.color;\n    ctx.fill();\n  }\n\n  update() {\n    this.draw();\n    this.x += this.velocity.x;\n    this.y += this.velocity.y;\n  }\n}\n","export default __webpack_public_path__ + \"a89aa665da1489c324a7df7b751bec4a.png\";","export default __webpack_public_path__ + \"559820ee2cc479f7fdf7b157ef876a6d.png\";","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = function() {}\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\nvar deferredModules = [\n\t[\"../node_modules/@babel/polyfill/lib/index.js\",\"vendors-node_modules_babel_polyfill_lib_index_js-node_modules_gsap_index_js\"],\n\t[\"./index.js\",\"vendors-node_modules_babel_polyfill_lib_index_js-node_modules_gsap_index_js\"]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = function() {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tvar executeModules = data[3];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = function() {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = function() {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (function() {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\nreturn __webpack_require__.x();\n"],"sourceRoot":""}